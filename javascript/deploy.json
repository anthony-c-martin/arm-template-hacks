{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "customRpId": {
            "type": "string"
        }
    },
    "variables": {
        "fibonacci_30": "
function fibonacci_recursive(n) {
  if (n === 0 || n === 1) {
    return n;
  }

  return fibonacci_recursive(n - 2) + fibonacci_recursive(n - 1);
}

fibonacci_recursive(30)
        "
    },
    "resources": [],
    "outputs": {
        "output": {
            "type": "int",
            "value": "[listExecuteJs(parameters('customRpId'), '2018-09-01-preview', variables('fibonacci_30')).result]"
        }
    }
}